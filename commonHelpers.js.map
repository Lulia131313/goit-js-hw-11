{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42750421-25533ceabe92b3d649fd552d3';\n\nexport function getPhotos(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(photo => {\n      return `<li class=\"gallery-item\">\n       <a href=\"${photo.largeImageURL}\">\n    <img src='${photo.largeImageURL}' alt='${photo.tags}' class='gallery-img' /></a>\n    <div class = \"gallery-section\">\n    <p class=\"gallery-text\">Like<span class= \"value\">${photo.likes}</span></p>\n   <p class=\"gallery-text\">Views<span class= \"value\">${photo.views}</span></p>\n    <p class=\"gallery-text\">Comments<span class= \"value\">${photo.comments}</span></p>\n     <p class=\"gallery-text\">Downloads<span class= \"value\">${photo.downloads}</span></p>\n     \n    </li>`;\n    })\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst ulEl = document.querySelector('.js-gallery');\nconst ulForm = document.querySelector('.js-search-form');\nconst loader = document.querySelector('.loader');\n\nulForm.addEventListener('submit', onFormSubmit);\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  ulEl.innerHTML = '';\n\n  showLoader();\n\n  const input = e.currentTarget.elements['user-search-query'].value.trim();\n\n  if (!input) return alert('Error');\n\n  getPhotos(input)\n    .then(res => {\n      if (res.hits.length === 0)\n        return iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      ulEl.innerHTML = createMarkup(res.hits);\n      lightbox.refresh();\n    })\n    .catch(console.log)\n    .finally(() => hideLoader());\n\n  e.currentTarget.reset();\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["BASE_URL","API_KEY","getPhotos","q","params","res","createMarkup","arr","photo","ulEl","ulForm","loader","onFormSubmit","showLoader","hideLoader","e","input","iziToast","lightbox","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAUC,EAAG,CAC3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,KAAKI,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAIC,GACI;AAAA,kBACKA,EAAM,aAAa;AAAA,gBACrBA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA;AAAA,uDAEAA,EAAM,KAAK;AAAA,uDACXA,EAAM,KAAK;AAAA,2DACPA,EAAM,QAAQ;AAAA,6DACZA,EAAM,SAAS;AAAA;AAAA,UAGvE,EACA,KAAK,EAAE,CACZ,CCHA,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAO,iBAAiB,SAAUE,CAAY,EAE9C,SAASC,GAAa,CACpBF,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASG,GAAa,CACpBH,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,SAASC,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAEhBN,EAAK,UAAY,GAEjBI,IAEA,MAAMG,EAAQD,EAAE,cAAc,SAAS,mBAAmB,EAAE,MAAM,OAElE,GAAI,CAACC,EAAO,OAAO,MAAM,OAAO,EAEhCd,EAAUc,CAAK,EACZ,KAAKX,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EACtB,OAAOY,EAAS,MAAM,CACpB,MAAO,QACP,QACE,0EACZ,CAAS,EACHR,EAAK,UAAYH,EAAaD,EAAI,IAAI,EACtCa,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,QAAQ,GAAG,EACjB,QAAQ,IAAMJ,EAAU,CAAE,EAE7BC,EAAE,cAAc,OAClB,CAEA,MAAMG,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}